17:45:46 @ 2022-06-28 01:44:12 - [36mINFO [0m hunit_test.py setUp:912          
################################################################################
TestPnlSimulator1.test_random3
################################################################################
17:45:46 @ 2022-06-28 01:44:12 - [36mINFO [0m htqdm.py flush:42                0%|          | 0/19 [00:00<?, ?it/s]
17:45:46 @ 2022-06-28 01:44:12 - [36mINFO [0m htqdm.py flush:42                100%|##########| 19/19 [00:00<00:00, 2245.09it/s]
17:45:47 @ 2022-06-28 01:44:12 - [36mINFO [0m htqdm.py flush:42                0%|          | 0/21 [00:00<?, ?it/s]
17:45:47 @ 2022-06-28 01:44:12 - [36mINFO [0m htqdm.py flush:42                100%|##########| 21/21 [00:00<00:00, 1720.42it/s]
17:45:47 @ 2022-06-28 01:44:12 - [36mINFO [0m pnl_simulator.py __init__:275    Caching
17:45:47 @ 2022-06-28 01:44:12 - [36mINFO [0m pnl_simulator.py __init__:282    Caching done
17:45:47 @ 2022-06-28 01:44:12 - [36mINFO [0m htqdm.py flush:42                0%|          | 0/21 [00:00<?, ?it/s]
17:45:47 @ 2022-06-28 01:44:12 - [36mINFO [0m htqdm.py flush:42                100%|##########| 21/21 [00:00<00:00, 11260.60it/s]
                         price         ask        bid     ret_0  preds  \
2021-09-12 09:30:00  99.249385   99.894762  97.611097       NaN   -1.0   
2021-09-12 09:35:00  97.023753   97.474805  96.515507 -0.022425    1.0   
2021-09-12 09:40:00  98.509870   98.826092  98.089455  0.015317    1.0   
2021-09-12 09:45:00  97.160791   97.734126  96.035480 -0.013695    1.0   
2021-09-12 09:50:00  96.529597   97.614306  96.091275 -0.006496   -1.0   
2021-09-12 09:55:00  95.843831   96.087375  95.027100 -0.007104   -1.0   
2021-09-12 10:00:00  95.314512   95.354332  94.124704 -0.005523   -1.0   
2021-09-12 10:05:00  97.873176   99.322519  97.271151  0.026844    1.0   
2021-09-12 10:10:00  92.391615   92.528402  91.351452 -0.056007    1.0   
2021-09-12 10:15:00  89.724255   89.731743  88.892629 -0.028870    1.0   
2021-09-12 10:20:00  95.465645   95.770243  95.362905  0.063989   -1.0   
2021-09-12 10:25:00  96.870541   97.266188  95.185577  0.014716    1.0   
2021-09-12 10:30:00  98.919551   99.364340  97.394688  0.021152    1.0   
2021-09-12 10:35:00  97.945210   98.721270  96.748356 -0.009850   -1.0   
2021-09-12 10:40:00  99.264902   99.740901  99.195169  0.013474   -1.0   
2021-09-12 10:45:00  99.168307  100.072207  98.473509 -0.000973   -1.0   
2021-09-12 10:50:00  95.376206   97.474977  94.145798 -0.038239   -1.0   
2021-09-12 10:55:00  92.993317   94.079530  92.378577 -0.024984    1.0   
2021-09-12 11:00:00  91.741888   92.242182  91.495684 -0.013457   -1.0   
2021-09-12 11:05:00  91.149915   92.151698  90.206595 -0.006453    0.0   
2021-09-12 11:10:00  92.578598   93.775690  92.411338  0.015674    0.0   

                     sim1.num_shares  sim1.diff  sim1.wealth  sim1.pnl  \
2021-09-12 09:30:00        10.306754 -15.317047   984.682953 -0.015317   
2021-09-12 09:35:00         9.995780 -13.485098   971.197854 -0.013695   
2021-09-12 09:40:00         9.995780  -6.309279   964.888576 -0.006496   
2021-09-12 09:45:00         9.995780  -6.854760   958.033816 -0.007104   
2021-09-12 09:50:00         9.995780   5.290964   963.324780  0.005523   
2021-09-12 09:55:00        10.106801 -25.859909   937.464871 -0.026844   
2021-09-12 10:00:00         9.578364  52.504382   989.969253  0.056007   
2021-09-12 10:05:00        10.714925 -28.580568   961.388686 -0.028870   
2021-09-12 10:10:00        10.714925  61.518566  1022.907252  0.063989   
2021-09-12 10:15:00        10.714925  15.053359  1037.960611  0.014716   
2021-09-12 10:20:00        10.714925 -21.954992  1016.005618 -0.021152   
2021-09-12 10:25:00        10.271029 -10.007491  1005.998127 -0.009850   
2021-09-12 10:30:00        10.271029  13.554595  1019.552722  0.013474   
2021-09-12 10:35:00        10.271029   0.992126  1020.544848  0.000973   
2021-09-12 10:40:00        10.291038  39.024659  1059.569507  0.038239   
2021-09-12 10:45:00        11.109369  26.472388  1086.041895  0.024984   
2021-09-12 10:50:00        11.678709  14.615079  1100.656973  0.013457   
2021-09-12 10:55:00        11.997322  -7.102094  1093.554879 -0.006453   
2021-09-12 11:00:00        11.997322 -17.140366  1076.414513 -0.015674   
2021-09-12 11:05:00              NaN        NaN          NaN  0.000000   
2021-09-12 11:10:00              NaN        NaN          NaN  0.000000   

                      lag.pnl  
2021-09-12 09:30:00 -0.015317  
2021-09-12 09:35:00 -0.013695  
2021-09-12 09:40:00 -0.006496  
2021-09-12 09:45:00 -0.007104  
2021-09-12 09:50:00  0.005523  
2021-09-12 09:55:00 -0.026844  
2021-09-12 10:00:00  0.056007  
2021-09-12 10:05:00 -0.028870  
2021-09-12 10:10:00  0.063989  
2021-09-12 10:15:00  0.014716  
2021-09-12 10:20:00 -0.021152  
2021-09-12 10:25:00 -0.009850  
2021-09-12 10:30:00  0.013474  
2021-09-12 10:35:00  0.000973  
2021-09-12 10:40:00  0.038239  
2021-09-12 10:45:00  0.024984  
2021-09-12 10:50:00  0.013457  
2021-09-12 10:55:00 -0.006453  
2021-09-12 11:00:00 -0.015674  
2021-09-12 11:05:00       NaN  
2021-09-12 11:10:00       NaN  
                         price         ask        bid     ret_0  preds  \
2021-09-12 09:30:00  99.249385   99.894762  97.611097       NaN   -1.0   
2021-09-12 09:35:00  97.023753   97.474805  96.515507 -0.022425    1.0   
2021-09-12 09:40:00  98.509870   98.826092  98.089455  0.015317    1.0   
2021-09-12 09:45:00  97.160791   97.734126  96.035480 -0.013695    1.0   
2021-09-12 09:50:00  96.529597   97.614306  96.091275 -0.006496   -1.0   
2021-09-12 09:55:00  95.843831   96.087375  95.027100 -0.007104   -1.0   
2021-09-12 10:00:00  95.314512   95.354332  94.124704 -0.005523   -1.0   
2021-09-12 10:05:00  97.873176   99.322519  97.271151  0.026844    1.0   
2021-09-12 10:10:00  92.391615   92.528402  91.351452 -0.056007    1.0   
2021-09-12 10:15:00  89.724255   89.731743  88.892629 -0.028870    1.0   
2021-09-12 10:20:00  95.465645   95.770243  95.362905  0.063989   -1.0   
2021-09-12 10:25:00  96.870541   97.266188  95.185577  0.014716    1.0   
2021-09-12 10:30:00  98.919551   99.364340  97.394688  0.021152    1.0   
2021-09-12 10:35:00  97.945210   98.721270  96.748356 -0.009850   -1.0   
2021-09-12 10:40:00  99.264902   99.740901  99.195169  0.013474   -1.0   
2021-09-12 10:45:00  99.168307  100.072207  98.473509 -0.000973   -1.0   
2021-09-12 10:50:00  95.376206   97.474977  94.145798 -0.038239   -1.0   
2021-09-12 10:55:00  92.993317   94.079530  92.378577 -0.024984    1.0   
2021-09-12 11:00:00  91.741888   92.242182  91.495684 -0.013457   -1.0   
2021-09-12 11:05:00  91.149915   92.151698  90.206595 -0.006453    0.0   
2021-09-12 11:10:00  92.578598   93.775690  92.411338  0.015674    0.0   

                     sim1.num_shares  sim1.diff  sim1.wealth  sim1.pnl  \
2021-09-12 09:30:00        10.306754 -15.317047   984.682953 -0.015317   
2021-09-12 09:35:00         9.995780 -13.485098   971.197854 -0.013695   
2021-09-12 09:40:00         9.995780  -6.309279   964.888576 -0.006496   
2021-09-12 09:45:00         9.995780  -6.854760   958.033816 -0.007104   
2021-09-12 09:50:00         9.995780   5.290964   963.324780  0.005523   
2021-09-12 09:55:00        10.106801 -25.859909   937.464871 -0.026844   
2021-09-12 10:00:00         9.578364  52.504382   989.969253  0.056007   
2021-09-12 10:05:00        10.714925 -28.580568   961.388686 -0.028870   
2021-09-12 10:10:00        10.714925  61.518566  1022.907252  0.063989   
2021-09-12 10:15:00        10.714925  15.053359  1037.960611  0.014716   
2021-09-12 10:20:00        10.714925 -21.954992  1016.005618 -0.021152   
2021-09-12 10:25:00        10.271029 -10.007491  1005.998127 -0.009850   
2021-09-12 10:30:00        10.271029  13.554595  1019.552722  0.013474   
2021-09-12 10:35:00        10.271029   0.992126  1020.544848  0.000973   
2021-09-12 10:40:00        10.291038  39.024659  1059.569507  0.038239   
2021-09-12 10:45:00        11.109369  26.472388  1086.041895  0.024984   
2021-09-12 10:50:00        11.678709  14.615079  1100.656973  0.013457   
2021-09-12 10:55:00        11.997322  -7.102094  1093.554879 -0.006453   
2021-09-12 11:00:00        11.997322 -17.140366  1076.414513 -0.015674   
2021-09-12 11:05:00              NaN        NaN          NaN  0.000000   
2021-09-12 11:10:00              NaN        NaN          NaN  0.000000   

                      lag.pnl  
2021-09-12 09:30:00 -0.015317  
2021-09-12 09:35:00 -0.013695  
2021-09-12 09:40:00 -0.006496  
2021-09-12 09:45:00 -0.007104  
2021-09-12 09:50:00  0.005523  
2021-09-12 09:55:00 -0.026844  
2021-09-12 10:00:00  0.056007  
2021-09-12 10:05:00 -0.028870  
2021-09-12 10:10:00  0.063989  
2021-09-12 10:15:00  0.014716  
2021-09-12 10:20:00 -0.021152  
2021-09-12 10:25:00 -0.009850  
2021-09-12 10:30:00  0.013474  
2021-09-12 10:35:00  0.000973  
2021-09-12 10:40:00  0.038239  
2021-09-12 10:45:00  0.024984  
2021-09-12 10:50:00  0.013457  
2021-09-12 10:55:00 -0.006453  
2021-09-12 11:00:00 -0.015674  
2021-09-12 11:05:00       NaN  
2021-09-12 11:10:00       NaN  
