17:45:46 @ 2022-06-28 01:44:12 - [36mINFO [0m hunit_test.py setUp:912          
################################################################################
TestPnlSimulator1.test_random2
################################################################################
17:45:46 @ 2022-06-28 01:44:12 - [36mINFO [0m htqdm.py flush:42                0%|          | 0/9 [00:00<?, ?it/s]
17:45:46 @ 2022-06-28 01:44:12 - [36mINFO [0m htqdm.py flush:42                100%|##########| 9/9 [00:00<00:00, 2007.80it/s]
17:45:46 @ 2022-06-28 01:44:12 - [36mINFO [0m htqdm.py flush:42                0%|          | 0/11 [00:00<?, ?it/s]
17:45:46 @ 2022-06-28 01:44:12 - [36mINFO [0m htqdm.py flush:42                100%|##########| 11/11 [00:00<00:00, 1703.74it/s]
17:45:46 @ 2022-06-28 01:44:12 - [36mINFO [0m pnl_simulator.py __init__:275    Caching
17:45:46 @ 2022-06-28 01:44:12 - [36mINFO [0m pnl_simulator.py __init__:282    Caching done
17:45:46 @ 2022-06-28 01:44:12 - [36mINFO [0m htqdm.py flush:42                0%|          | 0/11 [00:00<?, ?it/s]
17:45:46 @ 2022-06-28 01:44:12 - [36mINFO [0m htqdm.py flush:42                100%|##########| 11/11 [00:00<00:00, 10598.98it/s]
                          price         ask         bid     ret_0  preds  \
2021-09-12 09:30:00  100.257400  101.325113   99.879210       NaN   -1.0   
2021-09-12 09:35:00   98.880563   99.732354   97.634937 -0.013733    1.0   
2021-09-12 09:40:00  101.866160  102.557692  101.429206  0.030194    1.0   
2021-09-12 09:45:00  100.159329  100.270205   99.979936 -0.016756    1.0   
2021-09-12 09:50:00   99.553606  100.059475   97.534144 -0.006048   -1.0   
2021-09-12 09:55:00  102.162647  102.255213  101.716018  0.026207   -1.0   
2021-09-12 10:00:00  102.434507  102.548999  102.253272  0.002661   -1.0   
2021-09-12 10:05:00  104.563642  106.345613  102.367679  0.020785    1.0   
2021-09-12 10:10:00  105.987084  106.556023  105.479853  0.013613    1.0   
2021-09-12 10:15:00  108.920270  109.017201  108.879833  0.027675    0.0   
2021-09-12 10:20:00  108.613090  110.469610  107.584817 -0.002820    0.0   

                     sim1.num_shares  sim1.diff  sim1.wealth  sim1.pnl  \
2021-09-12 09:30:00        10.113211 -30.193969   969.806031 -0.030194   
2021-09-12 09:35:00         9.520395 -16.249705   953.556326 -0.016756   
2021-09-12 09:40:00         9.520395  -5.766716   947.789610 -0.006048   
2021-09-12 09:45:00         9.520395  24.839096   972.628706  0.026207   
2021-09-12 09:50:00         9.520395  -2.588214   970.040492 -0.002661   
2021-09-12 09:55:00         9.469861 -20.162611   949.877881 -0.020785   
2021-09-12 10:00:00         9.084208 -12.930842   936.947039 -0.013613   
2021-09-12 10:05:00         8.840200  25.929952   962.876991  0.027675   
2021-09-12 10:10:00         8.840200  -2.715532   960.161459 -0.002820   
2021-09-12 10:15:00              NaN        NaN          NaN  0.000000   
2021-09-12 10:20:00              NaN        NaN          NaN  0.000000   

                      lag.pnl  
2021-09-12 09:30:00 -0.030194  
2021-09-12 09:35:00 -0.016756  
2021-09-12 09:40:00 -0.006048  
2021-09-12 09:45:00  0.026207  
2021-09-12 09:50:00 -0.002661  
2021-09-12 09:55:00 -0.020785  
2021-09-12 10:00:00 -0.013613  
2021-09-12 10:05:00  0.027675  
2021-09-12 10:10:00 -0.002820  
2021-09-12 10:15:00       NaN  
2021-09-12 10:20:00       NaN  
                          price         ask         bid     ret_0  preds  \
2021-09-12 09:30:00  100.257400  101.325113   99.879210       NaN   -1.0   
2021-09-12 09:35:00   98.880563   99.732354   97.634937 -0.013733    1.0   
2021-09-12 09:40:00  101.866160  102.557692  101.429206  0.030194    1.0   
2021-09-12 09:45:00  100.159329  100.270205   99.979936 -0.016756    1.0   
2021-09-12 09:50:00   99.553606  100.059475   97.534144 -0.006048   -1.0   
2021-09-12 09:55:00  102.162647  102.255213  101.716018  0.026207   -1.0   
2021-09-12 10:00:00  102.434507  102.548999  102.253272  0.002661   -1.0   
2021-09-12 10:05:00  104.563642  106.345613  102.367679  0.020785    1.0   
2021-09-12 10:10:00  105.987084  106.556023  105.479853  0.013613    1.0   
2021-09-12 10:15:00  108.920270  109.017201  108.879833  0.027675    0.0   
2021-09-12 10:20:00  108.613090  110.469610  107.584817 -0.002820    0.0   

                     sim1.num_shares  sim1.diff  sim1.wealth  sim1.pnl  \
2021-09-12 09:30:00        10.113211 -30.193969   969.806031 -0.030194   
2021-09-12 09:35:00         9.520395 -16.249705   953.556326 -0.016756   
2021-09-12 09:40:00         9.520395  -5.766716   947.789610 -0.006048   
2021-09-12 09:45:00         9.520395  24.839096   972.628706  0.026207   
2021-09-12 09:50:00         9.520395  -2.588214   970.040492 -0.002661   
2021-09-12 09:55:00         9.469861 -20.162611   949.877881 -0.020785   
2021-09-12 10:00:00         9.084208 -12.930842   936.947039 -0.013613   
2021-09-12 10:05:00         8.840200  25.929952   962.876991  0.027675   
2021-09-12 10:10:00         8.840200  -2.715532   960.161459 -0.002820   
2021-09-12 10:15:00              NaN        NaN          NaN  0.000000   
2021-09-12 10:20:00              NaN        NaN          NaN  0.000000   

                      lag.pnl  
2021-09-12 09:30:00 -0.030194  
2021-09-12 09:35:00 -0.016756  
2021-09-12 09:40:00 -0.006048  
2021-09-12 09:45:00  0.026207  
2021-09-12 09:50:00 -0.002661  
2021-09-12 09:55:00 -0.020785  
2021-09-12 10:00:00 -0.013613  
2021-09-12 10:05:00  0.027675  
2021-09-12 10:10:00 -0.002820  
2021-09-12 10:15:00       NaN  
2021-09-12 10:20:00       NaN  
